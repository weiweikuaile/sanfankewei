webpackJsonp([4],{0:function(e,a,t){var s=t(30);s.init("reg")},3:function(e,a,t){function s(e){var a,t,s,r=0,l=0;for(s=0;s<e.length;s++)t=e.substr(s,1),l+=/.*[\u4e00-\u9fa5]+.*$/.test(t)?2:1;if(l<=10)a=e;else{for(r=0,a="",s=0;s<e.length;s++)r<10&&(t=e.substr(s,1),"*"!==t&&(r+=/.*[\u4e00-\u9fa5]+.*$/.test(t)?2:1),a+=t);a.length<e.length&&(a+="...")}return a}function r(e){var a,t,r=e.data;e.result!==-1?(t=s(r.profile_name),a='<span>Hi~</span><a href="//www.yohobuy.com/home?t='+r.random+'">'+t+'</a>&nbsp;<a href="//www.yohobuy.com/logout.html">[退出]</a>'):a='<span>Hi~</span>&nbsp;<a href="//www.yohobuy.com/signin.html">[请登录]</a>&nbsp;<a href="//www.yohobuy.com/reg.html">[免费注册]</a>',o(".header-tool li").eq(0).html(a)}function l(){var e={return_type:"jsonp"};o.getJSON("//www.yohobuy.com/common/passport/?callback=?",e,function(e){e&&e.data&&r(e.data)})}var o=t(1),n=o("#api-domain");n.remove(),o(".simple-header").size()>0&&o(".tool-options").on("mouseenter",function(){o(this).find(".tool-select").fadeIn()}).on("mouseleave",function(){o(this).find(".tool-select").fadeOut()}),l()},8:function(e,a){var t={"+86":/^1[35847]{1}[0-9]{9}$/,"+852":/^[965]{1}[0-9]{7}$/,"+853":/^[0-9]{8}$/,"+886":/^[0-9]{10}$/,"+65":/^[98]{1}[0-9]{7}$/,"+60":/^1[1234679]{1}[0-9]{8}$/,"+1":/^[0-9]{10}$/,"+82":/^01[0-9]{9}$/,"+44":/^7[789]{1}[0-9]{8}$/,"+81":/^0[9|8|7][0-9]{9}$/,"+61":/^[0-9]{11}$/},s=/^[.\-_a-zA-Z0-9]+@[\-_a-zA-Z0-9]+\.[a-zA-Z0-9]/,r=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$/;a.phoneRegx=t,a.emailRegx=s,a.pwdValidateRegx=r},9:function(e,a,t){var s,r,l;/*!
	 * jQuery Placeholder Plugin v2.3.1
	 * https://github.com/mathiasbynens/jquery-placeholder
	 *
	 * Copyright 2011, 2015 Mathias Bynens
	 * Released under the MIT license
	 */
!function(o){r=[t(1)],s=o,l="function"==typeof s?s.apply(a,r):s,!(void 0!==l&&(e.exports=l))}(function(e){function a(a){var t={},s=/^jQuery\d+$/;return e.each(a.attributes,function(e,a){a.specified&&!s.test(a.name)&&(t[a.name]=a.value)}),t}function t(a,t){var s=this,l=e(this);if(s.value===l.attr(n?"placeholder-x":"placeholder")&&l.hasClass(p.customClass))if(s.value="",l.removeClass(p.customClass),l.data("placeholder-password")){if(l=l.hide().nextAll('input[type="password"]:first').show().attr("id",l.removeAttr("id").data("placeholder-id")),a===!0)return l[0].value=t,t;l.focus()}else s==r()&&s.select()}function s(s){var r,l=this,o=e(this),i=l.id;if(!s||"blur"!==s.type||!o.hasClass(p.customClass))if(""===l.value){if("password"===l.type){if(!o.data("placeholder-textinput")){try{r=o.clone().prop({type:"text"})}catch(d){r=e("<input>").attr(e.extend(a(this),{type:"text"}))}r.removeAttr("name").data({"placeholder-enabled":!0,"placeholder-password":o,"placeholder-id":i}).bind("focus.placeholder",t),o.data({"placeholder-textinput":r,"placeholder-id":i}).before(r)}l.value="",o=o.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",o.data("placeholder-id")).show()}else{var c=o.data("placeholder-password");c&&(c[0].value="",o.attr("id",o.data("placeholder-id")).show().nextAll('input[type="password"]:last').hide().removeAttr("id"))}o.addClass(p.customClass),o[0].value=o.attr(n?"placeholder-x":"placeholder")}else o.removeClass(p.customClass)}function r(){try{return document.activeElement}catch(e){}}var l,o,n=!1,i="[object OperaMini]"===Object.prototype.toString.call(window.operamini),d="placeholder"in document.createElement("input")&&!i&&!n,c="placeholder"in document.createElement("textarea")&&!i&&!n,u=e.valHooks,h=e.propHooks,p={};d&&c?(o=e.fn.placeholder=function(){return this},o.input=!0,o.textarea=!0):(o=e.fn.placeholder=function(a){var r={customClass:"placeholder"};return p=e.extend({},r,a),this.filter((d?"textarea":":input")+"["+(n?"placeholder-x":"placeholder")+"]").not("."+p.customClass).not(":radio, :checkbox, [type=hidden]").bind({"focus.placeholder":t,"blur.placeholder":s}).data("placeholder-enabled",!0).trigger("blur.placeholder")},o.input=d,o.textarea=c,l={get:function(a){var t=e(a),s=t.data("placeholder-password");return s?s[0].value:t.data("placeholder-enabled")&&t.hasClass(p.customClass)?"":a.value},set:function(a,l){var o,n,i=e(a);return""!==l&&(o=i.data("placeholder-textinput"),n=i.data("placeholder-password"),o?(t.call(o[0],!0,l)||(a.value=l),o[0].value=l):n&&(t.call(a,!0,l)||(n[0].value=l),a.value=l)),i.data("placeholder-enabled")?(""===l?(a.value=l,a!=r()&&s.call(a)):(i.hasClass(p.customClass)&&t.call(a),a.value=l),i):(a.value=l,i)}},d||(u.input=l,h.value=l),c||(u.textarea=l,h.value=l),e(function(){e(document).delegate("form","submit.placeholder",function(){var a=e("."+p.customClass,this).each(function(){t.call(this,!0,"")});setTimeout(function(){a.each(s)},10)})}),e(window).bind("beforeunload.placeholder",function(){var a=!0;try{"javascript:void(0)"===document.activeElement.toString()&&(a=!1)}catch(t){}a&&e("."+p.customClass).each(function(){this.value=""})}))})},28:function(e,a){function t(e,a){return e.charCodeAt(a)>=48&&e.charCodeAt(a)<=57?1:e.charCodeAt(a)>=97&&e.charCodeAt(a)<=122?2:e.charCodeAt(a)>=65&&e.charCodeAt(a)<=90?3:4}function s(e,a,t){var s=e.charCodeAt(0),r=a.charCodeAt(0);return s-r===0||4!==t&&(s-r===1||s-r===-1)}function r(e,a){return 0===a||e===a?0:4===e||4===a?2:1}function l(e){var a,l,o=0,n=e.length,i="",d=0,c=0;for(c=0;c<n;c++)a=e.charAt(c),l=t(e,c),d===l&&s(a,i,l)||(o+=l+r(l,d)),i=a,d=l;return o}e.exports=l},30:function(e,a,t){function s(){var e=new Date,a=m(".captcha-img"),t=a.attr("src").split("?")[0];a.attr("src",t+"?t="+e.getTime())}function r(e,a){var t,r;"reg"===e?(t="/passport/reg/checkmobile",r={mobile:I.val(),area:H.text().split("+")[1]}):"third"===e&&(t="/passport/autouserinfo/bindCheck",r={mobile:I.val(),area:H.text().split("+")[1],openId:m("#open-id").val(),sourceType:m("#source-type").val()}),O[0].message="err",O[0].status=!1,m.ajax({url:t,type:"POST",data:r}).then(function(e){if(e){switch(e.code){case 200:I.val()!==V&&""!==V&&(s(),j.addClass("disable").attr("disabled","disabled"),O[1].message="图形验证码错误",O[1].status=!1),V=I.val(),O[0].message="",O[0].status=!0;break;case 400:s(),O[0].message=e.message,O[0].status=!1}a()}})}function l(e,a){var t;"reg"===e?t="/passport/reg/piccaptcha":"third"===e&&(t="/passport/autouserinfo/checkPicCode"),m.ajax({type:"POST",url:t,data:{verifyCode:E.val()}}).then(function(e){if(e){switch(e.code){case 200:O[1].message="",O[1].status=!0;break;case 400:s(),O[1].message="图形验证码错误",O[1].status=!1}a()}})}function o(e,a){var t;"reg"===e?t="/passport/reg/msgcaptcha":"third"===e&&(t="/passport/autouserinfo/checkBindMsg"),m.ajax({type:"POST",url:t,data:{code:S.val(),mobile:I.val(),area:H.text().split("+")[1]}}).then(function(e){if(e){switch(e.code){case 200:O[2].message="",O[2].status=!0;break;case 400:O[2].message="短信验证码错误",O[2].status=!1}a()}})}function n(e,a,t){var s,n=m.trim(a.val());if(a.hasClass("phone-num")){if(s=H.text(),""===n)return O[0].message="请输入手机号码",O[0].status=!1,t();if(!/^[0-9]+$/.test(n)||"+86"===s&&!v.phoneRegx[s].test(n))return O[0].message="手机号码格式不正确,请重新输入",O[0].status=!1,t();r(e,t)}else if(a.hasClass("captcha")){if(""===n)return O[1].message="请输入图形验证码",O[1].status=!1,t();if(n.length<=3)return O[1].message="图形验证码为4位",O[1].status=!1,t();if(!O[0].status)return O[1].message="图形验证码错误",O[1].status=!1,t();l(e,t)}else if(a.hasClass("msg-captcha")){if(""===n)return O[2].message="请输入短信验证码",O[2].status=!1,t();if(n.length<=3)return O[2].message="短信验证码错误",O[2].status=!1,t();if(!O[1].status)return O[2].message="短信验证码错误",O[2].status=!1,t();o(e,t)}else{if(a.hasClass("pwd"))return""===n?(O[3].message="请输入密码",O[3].status=!1):n.length<6||n.length>20?(O[3].message="密码只支持6-20位字符",O[3].status=!1):J.test(a.val())?(O[3].message="",O[3].status=!0):(O[3].message="密码须字母和数字组合",O[3].status=!1),t();if(a.hasClass("repwd"))return""===n?(O[4].message="请输入密码确认",O[4].status=!1):z.val()!==n?(O[4].message="与密码不一致,请重新输入",O[4].status=!1):(O[4].message="",O[4].status=!0),t()}}function i(){var e=f.offset();return y.css({top:e.top-40,left:e.left})}function d(){var e,a=!1,t=O.length;for(e=0;e<t;e++)a||(O[e].message&&"err"!==O[e].message?(y.find("span").text(O[e].message),f=m("#"+O[e].id),i().removeClass("hide"),a=!0):y.addClass("hide"))}function c(){var e,a,t=O.length;for(a=0;a<t;a++)O[a].message?(e=m("#"+O[a].id),e.addClass("error")):(e=m("#"+O[a].id),e.removeClass("error"))}function u(e){var a=e.val(),t=g(a),s=0;switch(s=0===t?0:t<=10?1:t<=20?2:3){case 0:Z.removeClass("red yellow green"),R.removeClass("color");break;case 1:Z.addClass("red").removeClass("yellow green"),R.filter(".low").addClass("color"),R.filter(".mid,.high").removeClass("color");break;case 2:Z.addClass("yellow").removeClass("red green"),R.filter(".low,.mid").addClass("color"),R.filter(".high").removeClass("color");break;case 3:Z.addClass("green").removeClass("yellow red"),R.addClass("color")}""===a?w.removeClass("red yes no").addClass("default"):a.length<6||a.length>20?w.removeClass("default yes").addClass("no red"):w.removeClass("default no red").addClass("yes")}var h,p,f,m=t(1),v=t(8),g=t(28),b=m(".register-page"),C=m("#pwd-tips"),w=C.find("#pwd-tip1"),y=m("#err-tip"),x=m("#register-btn"),k=m("#count-down"),A=m(".success-btn"),$=5,j=m("#send-captcha"),T=4,O=[],I=m("#phone-num"),S=m("#msg-captcha"),z=m("#pwd"),P=m("#repwd"),E=m("#captcha"),M=0,R=m(".pwd-intensity"),Z=R.closest(".pwd-intensity-container"),H=m("#country-code"),_=m("#region"),B=!1,J=v.pwdValidateRegx,V="";t(3),t(9),setTimeout(function(){I.val(""),S.val(""),z.val(""),P.val(""),E.val("")},0),E.attr("maxlength",T),z.focus(function(){C.removeClass("hide"),B=!0,p=m(this).val()}).blur(function(){C.addClass("hide"),B=!1}),m("[placeholder]").placeholder(),O=[{id:"phone-num",message:"",status:!1},{id:"captcha",message:"",status:!1},{id:"msg-captcha",message:"",status:!1},{id:"pwd",message:"",status:!1},{id:"repwd",message:"",status:!1}],m(window).resize(function(){y.hasClass("hide")||i()}),a.init=function(e){m("#agree-terms").click(function(){var e,a=m(this),t=0;if(a.attr("notchecked")){for(a.removeAttr("notchecked"),e=0;e<O.length;e++)O[e].status&&t++;4===t&&x.removeClass("disable").removeAttr("disabled")}else x.addClass("disable").attr("disabled","disabled"),a.attr("notchecked","notchecked")}),b.on("keydown",function(e){var a=e.which;13===a&&x.click()}),b.find(".va").keyup(function(){var a,t=0,s=O.length,r=m(this);n(e,m(this),function(){for(d(),c(),a=0;a<s;a++)O[a].status&&t++;4!==t||m("#agree-terms").attr("notchecked")?x.addClass("disable").attr("disabled","disabled"):x.removeClass("disable").removeAttr("disabled"),O[1].status&&M<=0?j.removeClass("disable").removeAttr("disabled"):j.addClass("disable").attr("disabled","disabled")}),r.hasClass("pwd")&&u(r)}).blur(function(){}),_.change(function(){H.text(m("#region").val()),n(e,I,d)}),j.click(function(){var a,t;m(this).hasClass("disable")||(M=60,m("#msg-tip").removeClass("hide"),j.addClass("disable").attr("disabled","disabled"),j.val("60秒可重新发送"),a=setInterval(function(){return M<=0?(j.removeClass("disable").removeAttr("disabled").val("获取短信验证码"),void clearInterval(a)):void j.val(M--+"秒可重新发送")},1e3),"reg"===e?t="/passport/reg/sendBindMsg":"third"===e&&(t="/passport/autouserinfo/sendBindMsg"),m.ajax({type:"POST",url:t,data:{area:H.text().split("+")[1],mobile:I.val(),verifyCode:E.val()}}))}),m(".success-box").length<=0&&(z[0].onpaste=function(){return!1}),x.click(function(){var a;"reg"===e?a="/passport/reg/mobileregister":"third"===e&&(a="/passport/autouserinfo/bindMobile"),m(this).hasClass("disable")||m.ajax({type:"POST",url:a,data:{area:H.text().split("+")[1],mobile:I.val(),verifyCode:E.val(),code:S.val(),password:z.val()}}).then(function(e){var a,t,s=0;200===e.code?(t=e.data.href,a=setTimeout(function(){s++},1e3),m.ajax({type:"GET",url:e.data.session}).then(function(e){200===e.code&&a<3&&(clearInterval(a),location.href=t)}),a>=3&&(clearInterval(a),location.href=t)):console.log("网络超时~")})}),m(".change-captcha").click(function(){s()}),m(".success-box").length>0&&(h=setInterval(function(){0===$&&(window.location.href=A.attr("data-url"),clearInterval(h)),k.text($--)},1e3))}}});